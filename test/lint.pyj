# vim:fileencoding=utf-8
# License: GPL v3
# Copyright: 2015, Kovid Goyal <kovid at kovidgoyal.net>

lint_code = require('../tools/lint.js').lint_code

def reporter(reports):
    def report(filename, line_number, col_number, message):
        reports.push({filename:filename, line_number:line_number, col_number:col_number, message:message})
    return report

code = '''
from test import one

def f(a, b):
    x = 1
    return a
'''

reports = []
lint_code(code, {report:reporter(reports)})
